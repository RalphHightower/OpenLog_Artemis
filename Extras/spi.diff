--- old/SPI.cpp 2023-08-29 19:34:34.004471695 +0000
+++ new/SPI.cpp 2023-08-29 19:35:44.360438280 +0000
@@ -1,4 +1,5 @@
-/*
+
+/*
 // This file is subject to the terms and conditions defined in
 // file 'LICENSE.md', which is part of this source code package.
 */
@@ -86,6 +87,7 @@
 void arduino::MbedSPI::end() {
     if (dev) {
         delete dev;
+        dev = NULL;
     }
 }

